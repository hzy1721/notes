# 前端性能优化

## 加载优化

更快地把资源从服务端加载到浏览器。

1. 使用 CDN 分发静态资源
2. 使用 HTTP/2 协议
3. 充分利用缓存，静态资源强缓存，动态资源协商缓存
4. 分包加载，避免部分代码改动导致整个包的缓存失效
5. 使用 gzip/brotli 压缩 HTML/CSS/JS 等文本资源
6. 小图片内联为 Data URI，减少请求数量
7. 图片懒加载，处于可视区域内才加载
8. 使用 Terser/esbuild 进行 JS 代码混淆
9. 路由懒加载，首屏无需加载全部资源
10. Tree Shaking，生产环境打包时消除无用代码
11. 尽量使用 avif/webp 格式的图片，把图片缩放到合适大小，并对图片进行适当压缩
12. 合并静态资源，合并小图片

## 渲染优化

更快地把资源在浏览器上进行渲染。

1. 使用 preload 加载当前路由必需的资源
2. 使用 prefetch 加载页面链接的其他路由资源
3. 使用 dns-prefetch 进行 DNS 预解析
4. 使用防抖和节流避免不必要的函数执行以及可能引起的重新渲染
5. 使用虚拟列表优化无限滚动列表
6. 本地资源缓存，短时间的重复请求直接从缓存中获取资源
7. 使用 Web Worker 处理 CPU 密集型任务
8. 使用 WASM 处理 JS 不适合的任务，比如图像处理
9. 合并 DOM 操作，减少 DOM 操作次数
10. 减少事件处理程序的数量

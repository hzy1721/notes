# 优先级

有 3 种方式使用 CSS：

- 外链：`<link ref="stylesheet" href="style.css">`
- 嵌入：`<style> ... </style>`
- 内联：`<p style="..."></p>`

开发中为了书写的方便，样式的设置经常会有重叠，一个元素可能匹配到多条不同的规则。浏览器会根据样式的引入方式、选择器的种类和个数确定最终应用哪条规则。

优先级从高到低：

- `!important`：加上这个关键字可以覆盖其他所有样式，最终应用这条样式
- 内联样式：内联样式的优先级高于选择器样式
- 外链和嵌入样式：计算特异性 (specificity) 确定优先级

## 特异性

根据选择器的重要程度、具体程度、与元素的相关程度，将已有的 7 种选择器分为 4 个大类：

- **ID**
  - ID 选择器
- **CLASS**
  - 类选择器
  - 伪类选择器
  - 属性选择器
- **TYPE**
  - 标签选择器
  - 伪元素选择器
- No value
  - 通配选择器 `*`
  - 伪类选择器 `where()`

多个选择器可以通过 `<空白>`、`>`、`+` 等方式进行组合，不同组合方式的具体程度可能不同。比如 `>` 严格为直接后代，而 `<空白>` 指的是所有后代。但事实上特异性的计算不考虑选择器的组合方式，只计算个数。

对于 CSS 文件中的一组规则，分别计算 ID、CLASS、TYPE 三种大类选择器的个数，写成 `ID - CLASS - TYPE` 的格式，就是最终计算出的特异性的值。

比较特异性时从高到低比较，也可以认为 ID 的值是 100、CLASS 的值是 10、TYPE 的值是 1，加权求和再比较即可。

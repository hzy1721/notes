import{_ as s,c as a,o as n,U as l}from"./chunks/framework.e548c890.js";const d=JSON.parse('{"title":"npm","description":"","frontmatter":{},"headers":[],"relativePath":"fe/engineer/node/npm.md","filePath":"fe/engineer/node/npm.md","lastUpdated":1704115023000}'),p={name:"fe/engineer/node/npm.md"},o=l(`<h1 id="npm" tabindex="-1">npm <a class="header-anchor" href="#npm" aria-label="Permalink to &quot;npm&quot;">​</a></h1><p>Node 包管理器（Node Package Manager）。</p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><p>nodejs.org 安装 Node，包含了 npm。</p><h2 id="registry" tabindex="-1">registry <a class="header-anchor" href="#registry" aria-label="Permalink to &quot;registry&quot;">​</a></h2><p>存放 npm 包的仓库。</p><ul><li>官方源（默认）：<a href="https://registry.npmjs.org" target="_blank" rel="noreferrer">https://registry.npmjs.org</a></li><li>阿里源：<a href="https://registry.npmmirror.com" target="_blank" rel="noreferrer">https://registry.npmmirror.com</a></li></ul><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 切换为阿里源</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">registry</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://registry.npmmirror.com</span></span></code></pre></div><h2 id="package" tabindex="-1">package <a class="header-anchor" href="#package" aria-label="Permalink to &quot;package&quot;">​</a></h2><p>npm 包是包含 <code>package.json</code> 的文件或目录。可选格式如下：</p><ul><li>包含 <code>package.json</code> 的目录</li><li>tar.gz 压缩包</li><li>指向压缩包的 URL</li><li><code>&lt;name&gt;@&lt;version&gt;</code></li><li><code>&lt;name&gt;@&lt;tag&gt;</code></li><li><code>&lt;name&gt;</code> 有 <code>latest</code> tag</li><li>Git URL <ul><li>git://github.com/user/project.git#commit-ish</li><li>git+ssh://user@hostname:project.git#commit-ish</li><li>git+http://user@hostname/project/blah.git#commit-ish</li><li>git+https://user@hostname/project/blah.git#commit-ish</li></ul></li></ul><h2 id="module" tabindex="-1">module <a class="header-anchor" href="#module" aria-label="Permalink to &quot;module&quot;">​</a></h2><p>存放在 <code>node_modules</code> 目录，可以被 <code>require()</code> 导入的文件或目录。</p><ul><li>目录，包含 <code>package.json</code>，文件中包含 <code>main</code> 字段</li><li>JS 文件</li></ul><p>package 大多是 module 或包含 module，module 不一定是 package。</p><h2 id="scope" tabindex="-1">scope <a class="header-anchor" href="#scope" aria-label="Permalink to &quot;scope&quot;">​</a></h2><p>命名空间，每个 npm 用户和组织都有自己的 scope。</p><ul><li><code>@user/package</code></li><li><code>@org/package</code></li></ul><h2 id="visibility" tabindex="-1">visibility <a class="header-anchor" href="#visibility" aria-label="Permalink to &quot;visibility&quot;">​</a></h2><p>分为 public 和 private：</p><ul><li>public 可以被所有人下载和使用</li><li>private 只对发布者指定的协作者可见 <ul><li>官方 registry 需要付费，也可以自建 registry</li></ul></li></ul><p>scope 与 visibility：</p><ul><li>非 scope 包一定是 public</li><li>private 包一定是 scope</li><li>scope 包默认 private，需要发布时显式指定为 public</li></ul><h2 id="npm-config" tabindex="-1">npm config <a class="header-anchor" href="#npm-config" aria-label="Permalink to &quot;npm config&quot;">​</a></h2><p>管理 npm 配置。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ke</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">valu</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> [&lt;key&gt;=&lt;value&gt; </span><span style="color:#C3E88D;">...]</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">get</span><span style="color:#A6ACCD;"> [&lt;key&gt; [&lt;key&gt; </span><span style="color:#C3E88D;">...]]</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ke</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> [&lt;key&gt; </span><span style="color:#C3E88D;">...]</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;"> [--json]</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">edit</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fix</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">alias</span><span style="color:#A6ACCD;">: </span><span style="color:#C3E88D;">c</span></span></code></pre></div><h2 id="npm-init" tabindex="-1">npm init <a class="header-anchor" href="#npm-init" aria-label="Permalink to &quot;npm init&quot;">​</a></h2><p>创建 <code>package.json</code> 文件。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">package-spe</span><span style="color:#A6ACCD;">c</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> (same </span><span style="color:#C3E88D;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">npx</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">package-spec</span><span style="color:#89DDFF;">&gt;\`</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">@scop</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> (same </span><span style="color:#C3E88D;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">npx</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">@scope</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">/create</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">aliases:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">innit</span></span></code></pre></div><h2 id="npm-install" tabindex="-1">npm install <a class="header-anchor" href="#npm-install" aria-label="Permalink to &quot;npm install&quot;">​</a></h2><p>安装 npm 包。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> [&lt;package-spec&gt; </span><span style="color:#C3E88D;">...]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">aliases:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ins,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">inst,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">insta,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">instal,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">isnt,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">isnta,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">isntal,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">isntall</span></span></code></pre></div><h2 id="npm-link" tabindex="-1">npm link <a class="header-anchor" href="#npm-link" aria-label="Permalink to &quot;npm link&quot;">​</a></h2><p>软链接 npm 包，用于本地修改调试。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">link</span><span style="color:#A6ACCD;"> [&lt;package-spec&gt;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">alias</span><span style="color:#A6ACCD;">: </span><span style="color:#C3E88D;">ln</span></span></code></pre></div><h2 id="npm-run-script" tabindex="-1">npm run-script <a class="header-anchor" href="#npm-run-script" aria-label="Permalink to &quot;npm run-script&quot;">​</a></h2><p>运行 scripts 脚本。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run-script</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">comman</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> [-- </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">arg</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">aliases:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rum,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">urn</span></span></code></pre></div><h2 id="npm-search" tabindex="-1">npm search <a class="header-anchor" href="#npm-search" aria-label="Permalink to &quot;npm search&quot;">​</a></h2><p>搜索 npm 包。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> [search </span><span style="color:#C3E88D;">terms</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">aliases:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">find,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">s,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">se</span></span></code></pre></div><h2 id="npm-start" tabindex="-1">npm start <a class="header-anchor" href="#npm-start" aria-label="Permalink to &quot;npm start&quot;">​</a></h2><p>启动 npm 包。等价于 <code>npm run start</code> 或 <code>node server.js</code>。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> [-- </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">arg</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">]</span></span></code></pre></div><h2 id="npm-test" tabindex="-1">npm test <a class="header-anchor" href="#npm-test" aria-label="Permalink to &quot;npm test&quot;">​</a></h2><p>测试 npm 包。等价于 <code>npm run test</code>。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> [-- </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">arg</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">aliases:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tst,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t</span></span></code></pre></div><h2 id="npm-uninstall" tabindex="-1">npm uninstall <a class="header-anchor" href="#npm-uninstall" aria-label="Permalink to &quot;npm uninstall&quot;">​</a></h2><p>移除 npm 包。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uninstall</span><span style="color:#A6ACCD;"> [&lt;@scope&gt;/]</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">pkg</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">aliases:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">unlink,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">r,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">un</span></span></code></pre></div><h2 id="npm-version" tabindex="-1">npm version <a class="header-anchor" href="#npm-version" aria-label="Permalink to &quot;npm version&quot;">​</a></h2><p>升版本号。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span><span style="color:#A6ACCD;"> [&lt;newversion&gt; </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">major</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">minor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">patch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">premajor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">preminor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">prepatch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">prerelease</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">from-git]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">alias</span><span style="color:#A6ACCD;">: </span><span style="color:#C3E88D;">verison</span></span></code></pre></div><h2 id="npm-view" tabindex="-1">npm view <a class="header-anchor" href="#npm-view" aria-label="Permalink to &quot;npm view&quot;">​</a></h2><p>查看包信息。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">view</span><span style="color:#A6ACCD;"> [&lt;package-spec&gt;] </span><span style="color:#89DDFF;">[&lt;</span><span style="color:#A6ACCD;">field</span><span style="color:#89DDFF;">&gt;[</span><span style="color:#A6ACCD;">.subfield</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">aliases:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">info,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">show,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v</span></span></code></pre></div><h2 id="npx" tabindex="-1">npx <a class="header-anchor" href="#npx" aria-label="Permalink to &quot;npx&quot;">​</a></h2><p>执行本地或远程 npm 包的命令。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">pk</span><span style="color:#A6ACCD;">g</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">[@</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">versio</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">]</span><span style="color:#A6ACCD;"> [args...]</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--package=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">pkg</span><span style="color:#89DDFF;">&gt;[</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">version</span><span style="color:#89DDFF;">&gt;]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">cm</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> [args...]</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;cmd&gt; [args...]</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--package=foo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;cmd&gt; [args...]</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div>`,59),e=[o];function t(c,r,i,C,y,D){return n(),a("div",null,e)}const h=s(p,[["render",t]]);export{d as __pageData,h as default};

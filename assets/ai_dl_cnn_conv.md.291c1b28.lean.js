import{_ as l,c as t,k as Q,a as e,U as a,o as T}from"./chunks/framework.e548c890.js";const X1=JSON.parse('{"title":"卷积层","description":"","frontmatter":{},"headers":[],"relativePath":"ai/dl/cnn/conv.md","filePath":"ai/dl/cnn/conv.md","lastUpdated":1698802965000}'),s={name:"ai/dl/cnn/conv.md"},o=Q("h1",{id:"卷积层",tabindex:"-1"},[e("卷积层 "),Q("a",{class:"header-anchor",href:"#卷积层","aria-label":'Permalink to "卷积层"'},"​")],-1),n=Q("p",null,"以二维卷积为例：",-1),m=Q("ul",null,[Q("li",null,"输入 X：n_h x n_w"),Q("li",null,"卷积核 W：k_h x k_w"),Q("li",null,"偏差 b：实数"),Q("li",null,"输出 Y：(n_h - k_h + 1) x (n_w - k_w + 1)")],-1),d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.662ex",height:"1.731ex",role:"img",focusable:"false",viewBox:"0 -683 6922.4 765","aria-hidden":"true"},i=a("",1),h=[i],p=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mi",null,"Y"),Q("mo",null,"="),Q("mi",null,"X"),Q("mo",null,"⋆"),Q("mi",null,"W"),Q("mo",null,"+"),Q("mi",null,"B")])],-1),c=a("",5),g=Q("thead",null,[Q("tr",null,[Q("th",null,"类型"),Q("th",null,"公式")])],-1),u=Q("td",null,"一维卷积",-1),H={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.777ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.489ex",height:"2.966ex",role:"img",focusable:"false",viewBox:"0 -967.8 7730.1 1311.1","aria-hidden":"true"},L=a("",1),x=[L],_=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"y"),Q("mi",null,"i")]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"a"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"h")]),Q("msub",null,[Q("mi",null,"w"),Q("mi",null,"a")]),Q("msub",null,[Q("mi",null,"x"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"+"),Q("mi",null,"a")])])])],-1),f=Q("td",null,"二维卷积",-1),M={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.777ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.443ex",height:"2.966ex",role:"img",focusable:"false",viewBox:"0 -967.8 12572 1311.1","aria-hidden":"true"},y=a("",1),Z=[y],b=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j")])]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"a"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"h")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"b"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"w")]),Q("msub",null,[Q("mi",null,"w"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"a"),Q("mo",null,","),Q("mi",null,"b")])]),Q("msub",null,[Q("mi",null,"x"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"+"),Q("mi",null,"a"),Q("mo",null,","),Q("mi",null,"j"),Q("mo",null,"+"),Q("mi",null,"b")])])])],-1),V=Q("td",null,"三维卷积",-1),D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.777ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.766ex",height:"2.966ex",role:"img",focusable:"false",viewBox:"0 -967.8 17576.6 1311.1","aria-hidden":"true"},j=a("",1),C=[j],A=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"y"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,","),Q("mi",null,"j"),Q("mo",null,","),Q("mi",null,"k")])]),Q("mo",null,"="),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"a"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"h")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"b"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"w")]),Q("munderover",null,[Q("mo",{"data-mjx-texclass":"OP"},"∑"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"c"),Q("mo",null,"="),Q("mn",null,"1")]),Q("mi",null,"d")]),Q("msub",null,[Q("mi",null,"w"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"a"),Q("mo",null,","),Q("mi",null,"b"),Q("mo",null,","),Q("mi",null,"c")])]),Q("msub",null,[Q("mi",null,"x"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mi",null,"i"),Q("mo",null,"+"),Q("mi",null,"a"),Q("mo",null,","),Q("mi",null,"j"),Q("mo",null,"+"),Q("mi",null,"b"),Q("mo",null,","),Q("mi",null,"k"),Q("mo",null,"+"),Q("mi",null,"c")])])])],-1),S=Q("h2",{id:"输出形状",tabindex:"-1"},[e("输出形状 "),Q("a",{class:"header-anchor",href:"#输出形状","aria-label":'Permalink to "输出形状"'},"​")],-1),E=Q("p",null,"以高 h 为例：",-1),R={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"29.764ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 13155.6 1000","aria-hidden":"true"},O=a("",1),B=[O],I=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"h")]),Q("mo",null,"="),Q("mo",{fence:"false",stretchy:"false"},"⌊"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"n"),Q("mi",null,"h")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"h")]),Q("mo",null,"−"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"h")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"h")]),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"h")]),Q("mo",{fence:"false",stretchy:"false"},"⌋")])],-1),X=Q("p",null,"如果想维持输入输出的形状不变：",-1),N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.449ex",height:"2.009ex",role:"img",focusable:"false",viewBox:"0 -694 5060.6 888","aria-hidden":"true"},z=a("",1),G=[z],F=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"p"),Q("mi",null,"h")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"h")]),Q("mo",null,"−"),Q("mn",null,"1")])],-1),W=Q("ul",null,[Q("li",null,"偶数：上下各填充一半"),Q("li",null,"奇数：一侧向上取整、一侧向下取整")],-1),$={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},q={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"23.594ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 10428.6 1000","aria-hidden":"true"},U=a("",1),Y=[U],K=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"h")]),Q("mo",null,"="),Q("mo",{fence:"false",stretchy:"false"},"⌊"),Q("mo",{stretchy:"false"},"("),Q("msub",null,[Q("mi",null,"n"),Q("mi",null,"h")]),Q("mo",null,"+"),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"h")]),Q("mo",null,"−"),Q("mn",null,"1"),Q("mo",{stretchy:"false"},")"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"h")]),Q("mo",{fence:"false",stretchy:"false"},"⌋")])],-1),Q1=Q("p",null,"如果高度 h 可以被 s_h 整除：",-1),t1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.992ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4858.4 1000","aria-hidden":"true"},a1=a("",1),e1=[a1],l1=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"o"),Q("mi",null,"h")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"n"),Q("mi",null,"h")]),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mo",null,"/")]),Q("msub",null,[Q("mi",null,"s"),Q("mi",null,"h")])])],-1),s1=Q("h2",{id:"多通道",tabindex:"-1"},[e("多通道 "),Q("a",{class:"header-anchor",href:"#多通道","aria-label":'Permalink to "多通道"'},"​")],-1),o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.408ex",height:"1.468ex",role:"img",focusable:"false",viewBox:"0 -491 5484.4 648.8","aria-hidden":"true"},m1=a("",1),d1=[m1],r1=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"c"),Q("mi",null,"i")]),Q("mo",null,"×"),Q("msub",null,[Q("mi",null,"n"),Q("mi",null,"h")]),Q("mo",null,"×"),Q("msub",null,[Q("mi",null,"n"),Q("mi",null,"w")])])],-1),i1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"16.76ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 7407.8 851.8","aria-hidden":"true"},p1=a("",1),c1=[p1],g1=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"c"),Q("mi",null,"o")]),Q("mo",null,"×"),Q("msub",null,[Q("mi",null,"c"),Q("mi",null,"i")]),Q("mo",null,"×"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"h")]),Q("mo",null,"×"),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"w")])])],-1),u1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.428ex",height:"1.468ex",role:"img",focusable:"false",viewBox:"0 -491 2841.3 648.8","aria-hidden":"true"},w1=a("",1),L1=[w1],x1=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"c"),Q("mi",null,"o")]),Q("mo",null,"×"),Q("msub",null,[Q("mi",null,"c"),Q("mi",null,"i")])])],-1),_1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.89ex",height:"1.468ex",role:"img",focusable:"false",viewBox:"0 -491 6139.4 648.8","aria-hidden":"true"},M1=a("",1),k1=[M1],y1=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"c"),Q("mi",null,"o")]),Q("mo",null,"×"),Q("msub",null,[Q("mi",null,"m"),Q("mi",null,"h")]),Q("mo",null,"×"),Q("msub",null,[Q("mi",null,"m"),Q("mi",null,"w")])])],-1),Z1=Q("h2",{id:"_1x1-卷积",tabindex:"-1"},[e("1x1 卷积 "),Q("a",{class:"header-anchor",href:"#_1x1-卷积","aria-label":'Permalink to "1x1 卷积"'},"​")],-1),b1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.965ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 5288.7 851.8","aria-hidden":"true"},D1=a("",1),v1=[D1],j1=Q("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"h")]),Q("mo",null,"="),Q("msub",null,[Q("mi",null,"k"),Q("mi",null,"w")]),Q("mo",null,"="),Q("mn",null,"1")])],-1),C1=Q("p",null,"不识别空间信息，只融合通道。等价于全连接层。",-1);function A1(S1,E1,R1,P1,O1,B1){return T(),t("div",null,[o,n,m,Q("p",null,[Q("mjx-container",d,[(T(),t("svg",r,h)),p])]),c,Q("table",null,[g,Q("tbody",null,[Q("tr",null,[u,Q("td",null,[Q("mjx-container",H,[(T(),t("svg",w,x)),_])])]),Q("tr",null,[f,Q("td",null,[Q("mjx-container",M,[(T(),t("svg",k,Z)),b])])]),Q("tr",null,[V,Q("td",null,[Q("mjx-container",D,[(T(),t("svg",v,C)),A])])])])]),S,E,Q("p",null,[Q("mjx-container",R,[(T(),t("svg",P,B)),I])]),X,Q("p",null,[Q("mjx-container",N,[(T(),t("svg",J,G)),F])]),W,Q("p",null,[Q("mjx-container",$,[(T(),t("svg",q,Y)),K])]),Q1,Q("p",null,[Q("mjx-container",t1,[(T(),t("svg",T1,e1)),l1])]),s1,Q("ul",null,[Q("li",null,[e("输入 X："),Q("mjx-container",o1,[(T(),t("svg",n1,d1)),r1])]),Q("li",null,[e("卷积核 W："),Q("mjx-container",i1,[(T(),t("svg",h1,c1)),g1])]),Q("li",null,[e("偏差 B："),Q("mjx-container",u1,[(T(),t("svg",H1,L1)),x1])]),Q("li",null,[e("输出："),Q("mjx-container",_1,[(T(),t("svg",f1,k1)),y1])])]),Z1,Q("p",null,[Q("mjx-container",b1,[(T(),t("svg",V1,v1)),j1])]),C1])}const N1=l(s,[["render",A1]]);export{X1 as __pageData,N1 as default};
